<?xml version="1.0" ?>
<sdf version="1.5">
  <world name="default">
    <scene>
      <origin_visual>false</origin_visual>
    </scene>

    <gui fullscreen='0'>
      <plugin name='keyboard' filename='libKeyboardGUIPlugin.so'/>
    </gui>

    <!-- A global light source -->
    <include>
      <uri>model://sun</uri>
    </include>
    <!-- A ground plane -->
    <model name="ground_plane">
      <static>true</static>
      <link name="link">
        <collision name="collision">
          <geometry>
            <plane>
              <normal>0 0 1</normal>
              <size>100 100</size>
            </plane>
          </geometry>
          <surface>
            <friction>
              <ode>
                <mu>100</mu>
                <mu2>50</mu2>
              </ode>
            </friction>
          </surface>
        </collision>
      </link>
    </model>



    <model name='Chebyshev_Lambda'>
      <link name='bar_1'>
        <inertial>
          <mass>0.00197049</mass>
          <inertia>
            <ixx>0.00016455</ixx>
            <ixy>0</ixy>
            <ixz>0</ixz>
            <iyy>6.5e-07</iyy>
            <iyz>0</iyz>
            <izz>0.00016451</izz>
          </inertia>
          <pose frame=''>0 0 0 0 -0 0</pose>
        </inertial>
        <pose frame=''>0 -0.991882 0 0 -0 0</pose>
        <gravity>1</gravity>
        <self_collide>0</self_collide>
        <kinematic>0</kinematic>
        <enable_wind>0</enable_wind>
        <visual name='visual'>
          <pose frame=''>0 0.5 0 0 -0 0</pose>
          <geometry>
            <box>
              <size>0.04318 1 0.045636</size>
            </box>
          </geometry>
          <material>
            <lighting>1</lighting>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/Grey</name>
            </script>
            <shader type='vertex'>
              <normal_map>__default__</normal_map>
            </shader>
            <ambient>0.3 0.3 0.3 1</ambient>
            <diffuse>0.7 0.7 0.7 1</diffuse>
            <specular>0.01 0.01 0.01 1</specular>
            <emissive>0 0 0 1</emissive>
          </material>
          <transparency>0</transparency>
          <cast_shadows>1</cast_shadows>
        </visual>
      </link>
      <link name='bar_3'>
        <inertial>
          <mass>0.00197049</mass>
          <inertia>
            <ixx>0.00016455</ixx>
            <ixy>0</ixy>
            <ixz>0</ixz>
            <iyy>6.5e-07</iyy>
            <iyz>0</iyz>
            <izz>0.00016451</izz>
          </inertia>
          <pose frame=''>0 0 0 0 -0 0</pose>
        </inertial>
        <pose frame=''>0 1.00812 0 1.77 -0 0</pose>
        <gravity>1</gravity>
        <self_collide>0</self_collide>
        <kinematic>0</kinematic>
        <enable_wind>0</enable_wind>
        <visual name='visual'>
          <pose frame=''>0 1.25 0 0 -0 0</pose>
          <geometry>
            <box>
              <size>0.04318 2.5 0.045636</size>
            </box>
          </geometry>
          <material>
            <lighting>1</lighting>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/Grey</name>
            </script>
            <shader type='vertex'>
              <normal_map>__default__</normal_map>
            </shader>
            <ambient>0.3 0.3 0.3 1</ambient>
            <diffuse>0.7 0.7 0.7 1</diffuse>
            <specular>0.01 0.01 0.01 1</specular>
            <emissive>0 0 0 1</emissive>
          </material>
          <transparency>0</transparency>
          <cast_shadows>1</cast_shadows>
        </visual>
      </link>
      <link name='bar_2'>
        <inertial>
          <mass>0.00267848</mass>
          <inertia>
            <ixx>0.00041288</ixx>
            <ixy>0</ixy>
            <ixz>0</ixz>
            <iyy>8.8e-07</iyy>
            <iyz>0</iyz>
            <izz>0.00041282</izz>
          </inertia>
          <pose frame=''>0 0 0 0 -0 0</pose>
        </inertial>
        <pose frame=''>0 -0.016237 0 1.37 -0 0</pose>
        <gravity>1</gravity>
        <self_collide>0</self_collide>
        <kinematic>0</kinematic>
        <enable_wind>0</enable_wind>
        <visual name='visual'>
          <pose frame=''>0 2.5 0 0 -0 0</pose>
          <geometry>
            <box>
              <size>0.04318 5 0.045636</size>
            </box>
          </geometry>
          <material>
            <lighting>1</lighting>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/Grey</name>
            </script>
            <shader type='vertex'>
              <normal_map>__default__</normal_map>
            </shader>
            <ambient>0.3 0.3 0.3 1</ambient>
            <diffuse>0.7 0.7 0.7 1</diffuse>
            <specular>0.01 0.01 0.01 1</specular>
            <emissive>0 0 0 1</emissive>
          </material>
          <transparency>0</transparency>
          <cast_shadows>1</cast_shadows>
        </visual>
      </link>
      <link name='bar_0'>
        <inertial>
          <mass>26102.6</mass>
          <inertia>
            <ixx>68885.7</ixx>
            <ixy>0</ixy>
            <ixz>0</ixz>
            <iyy>58539.2</iyy>
            <iyz>0</iyz>
            <izz>127416</izz>
          </inertia>
          <pose frame=''>0 0 0 0 -0 0</pose>
        </inertial>
        <pose frame=''>0 0 0 0 -0 0</pose>
        <gravity>1</gravity>
        <self_collide>0</self_collide>
        <kinematic>0</kinematic>
        <enable_wind>0</enable_wind>
        <visual name='visual'>
          <pose frame=''>0 0 0 0 -0 0</pose>
          <geometry>
            <box>
              <size>0.04318 5.62728 0.046331</size>
            </box>
          </geometry>
          <material>
            <lighting>1</lighting>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/Grey</name>
            </script>
            <shader type='vertex'>
              <normal_map>__default__</normal_map>
            </shader>
            <ambient>0.3 0.3 0.3 1</ambient>
            <diffuse>0.7 0.7 0.7 1</diffuse>
            <specular>0.01 0.01 0.01 1</specular>
            <emissive>0 0 0 1</emissive>
          </material>
          <transparency>0</transparency>
          <cast_shadows>1</cast_shadows>
        </visual>
        <collision name='collision'>
          <laser_retro>0</laser_retro>
          <max_contacts>10</max_contacts>
          <pose frame=''>0 0 0 0 -0 0</pose>
          <geometry>
            <box>
              <size>5.18747 5.62728 0.046331</size>
            </box>
          </geometry>
          <surface>
            <friction>
              <ode>
                <mu>1</mu>
                <mu2>1</mu2>
                <fdir1>0 0 0</fdir1>
                <slip1>0</slip1>
                <slip2>0</slip2>
              </ode>
              <torsional>
                <coefficient>1</coefficient>
                <patch_radius>0</patch_radius>
                <surface_radius>0</surface_radius>
                <use_patch_radius>1</use_patch_radius>
                <ode>
                  <slip>0</slip>
                </ode>
              </torsional>
            </friction>
            <bounce>
              <restitution_coefficient>0</restitution_coefficient>
              <threshold>1e+06</threshold>
            </bounce>
            <contact>
              <collide_without_contact>0</collide_without_contact>
              <collide_without_contact_bitmask>1</collide_without_contact_bitmask>
              <collide_bitmask>1</collide_bitmask>
              <ode>
                <soft_cfm>0</soft_cfm>
                <soft_erp>0.2</soft_erp>
                <kp>1e+13</kp>
                <kd>1</kd>
                <max_vel>0.01</max_vel>
                <min_depth>0</min_depth>
              </ode>
              <bullet>
                <split_impulse>1</split_impulse>
                <split_impulse_penetration_threshold>-0.01</split_impulse_penetration_threshold>
                <soft_cfm>0</soft_cfm>
                <soft_erp>0.2</soft_erp>
                <kp>1e+13</kp>
                <kd>1</kd>
              </bullet>
            </contact>
          </surface>
        </collision>
      </link>
      <joint name='bar_0_bar_1' type='revolute'>
        <parent>bar_0</parent>
        <child>bar_1</child>
        <axis>
          <xyz>1 0 0</xyz>
        </axis>
      </joint>
      <joint name='bar_1_bar_2' type='revolute'>
        <parent>bar_1</parent>
        <child>bar_2</child>
        <axis>
          <xyz>1 0 0</xyz>
        </axis>
      </joint>
      <joint name='bar_2_bar_3' type='revolute'>
        <parent>bar_2</parent>
        <child>bar_3</child>
        <pose frame=''>0 2.5 0 0 -0 0</pose>
        <axis>
          <xyz>1 0 0</xyz>
        </axis>
      </joint>
      <joint name='bar_3_bar_0' type='revolute'>
        <parent>bar_3</parent>
        <child>bar_0</child>
        <pose frame=''>0 1.0 0 0 -0 0</pose>
        <axis>
          <xyz>1 0 0</xyz>
        </axis>
      </joint>

      <plugin name='keystojoints' filename='libKeysToJointsPlugin.so'>
        <!-- k -->
        <map key='107' joint='bar_0_bar_1' scale='0.3' type='position' kp='1' ki='0' kd='1'/>
        <!-- l -->
        <map key='108' joint='bar_0_bar_1' scale='-0.3' type='position' kp='1' ki='0' kd='1'/>

      </plugin>

      <plugin name='3dplot' filename='libLinkPlot3DPlugin.so'>

        <!-- Update at 10 Hz -->
        <frequency>10</frequency>

        <!-- Rotational -->
        <plot>
          <link>bar_1</link>

          <pose>0 1 0 0 0 0</pose>

          <material>Gazebo/Red</material>
        </plot>

        <!-- Linear -->
        <plot>
          <link>bar_2</link>

          <pose>0 5 0 0 0 0</pose>

          <material>Gazebo/Blue</material>
        </plot>

      </plugin>

    </model>
  </world>
</sdf>
